useEffect(() => {
  const filteredApps = qlikTableArray.flatMap(item =>
    item.apps.filter(app =>
      isMatch(app.appName, searchTerm) && favorites?.some(fav => fav.name === app.appName)
    )
  );
  
  console.log("filteredApps with search and favorites match", filteredApps);

  const exactFilteredApps = filteredApps.map(app => ({
    ...app,
    isFav: favorites?.some(fav => fav.name === app.appName) ?? false, 
  }));

  console.log("exactFilteredApps with isFav preserved:", exactFilteredApps);
  
  setFilteredApps(exactFilteredApps);
}, [searchTerm, qlikTableArray, favorites]);
