useEffect(() => {
  // groupData fonksiyonu - burada "Net Durum" kontrolü yapılacak
  const groupData = (data, headers) => {
    if (!data || !headers) return [];
  
    const result = [];
    const yearMonth = data[0].qText;  // "Yıl Ay" değerini alıyoruz

    // "Net Durum" başlığını ve değerini almak
    const netDurumIndex = headers.indexOf("Net Durum");
    const netDurumItem = netDurumIndex !== -1 ? {
      header: headers[netDurumIndex], 
      value: data[netDurumIndex].qText
    } : null;

    // "Net Durum" varsa, onKPIChange ile üst component'e gönder
    if (netDurumItem && onKPIChange) {
      onKPIChange(netDurumItem); // "Net Durum" item'ını üst component'e gönder
    }

    // Header ve değerleri eşleştiriyoruz, "Net Durum" hariç
    for (let i = 1; i < headers.length; i++) {
      if (headers[i] !== "Net Durum") {  // "Net Durum" öğesini dahil etmiyoruz
        result.push({
          header: headers[i],
          value: data[i].qText
        });
      }
    }

    // Son veri: Son başlığa "Yıl Ay" bilgisini ekliyoruz
    const lastItem = result[result.length - 1];
    result[result.length - 1] = {
      header: `${lastItem.header} (${yearMonth})`,  // Son başlık: "Toplam Müşteri Adedi (2024-04)"
      value: data[data.length - 1].qText  // Son verinin değeri
    };
  
    return result;
  };

  // groupedData'yı oluştur
  const groupedData = groupData(tableDataArray, tableHeaderData);
  setGroupDataArray(groupedData);  // groupDataArray state'ini güncelle

}, [tableHeaderData, tableDataArray, onKPIChange]);
