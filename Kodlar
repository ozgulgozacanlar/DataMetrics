useEffect(() => {
  // groupData fonksiyonu - burada "Net Durum" kontrolü yapılacak
  const groupData = (data, headers) => {
    if (!data || !headers) return [];

    const result = [];
    const yearMonth = data[0].qText;  // "Yıl Ay" değerini alıyoruz

    // "Net Durum" başlığını ve değerini almak
    const netDurumIndex = headers.indexOf("Net Durum");
    const netDurumItem = netDurumIndex !== -1 ? {
      header: headers[netDurumIndex], 
      value: data[netDurumIndex].qText
    } : null;

    // Header ve değerleri eşleştiriyoruz, "Net Durum" hariç
    for (let i = 1; i < headers.length; i++) {
      if (headers[i] !== "Net Durum") {  // "Net Durum" öğesini dahil etmiyoruz
        result.push({
          header: headers[i],
          value: data[i].qText
        });
      }
    }

    // Son veri: Son başlığa "Yıl Ay" bilgisini ekliyoruz
    const lastItem = result[result.length - 1];
    const lastValue = data[data.length - 1].qText;

    // Eğer "Net Durum" varsa, onun değerini de ekle
    const finalValue = netDurumItem ? `${lastValue} (${netDurumItem.value})` : lastValue;

    // Son item'ı güncelle: "Toplam Müşteri Adedi (Yıl Ay)"
    result[result.length - 1] = {
      header: `${lastItem.header} (${yearMonth})`,  // Son başlık: "Toplam Müşteri Adedi (2024-04)"
      value: finalValue  // Son verinin değeri, Net Durum değeri ile birleştirilmiş
    };

    return result;
  };

  // groupedData'yı oluştur
  const groupedData = groupData(tableDataArray, tableHeaderData);
  setGroupDataArray(groupedData);  // groupDataArray state'ini güncelle

}, [tableHeaderData, tableDataArray, onKPIChange]);
